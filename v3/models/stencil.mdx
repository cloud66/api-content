---
title: "Stencil"
method: ""
path: ""
---

# Stencil

Represents a template configuration used for generating Kubernetes manifests and deployment configurations. Stencils define reusable templates that can be applied across different services and environments to ensure consistent infrastructure deployments.

<Model>
<ModelProperty name="uid" type="string">
Unique identifier for the stencil template.
</ModelProperty>

<ModelProperty name="filename" type="string">
Name of the generated file when the stencil is rendered.
</ModelProperty>

<ModelProperty name="template_filename" type="string">
Name of the template file used as the source for rendering.
</ModelProperty>

<ModelProperty name="btr_repo" type="string">
BuildToken repository identifier where the stencil template is stored.
</ModelProperty>

<ModelProperty name="btr_branch" type="string">
Git branch name in the BuildToken repository containing the stencil template.
</ModelProperty>

<ModelProperty name="context_id" type="string">
Service context identifier when the stencil is service-specific, or null for global stencils.
</ModelProperty>

<ModelProperty name="tags" type="array">
Array of tag strings associated with this stencil for organization and filtering.
</ModelProperty>

<ModelProperty name="status" type="string">
Current status of the stencil (e.g., "active", "disabled").
</ModelProperty>

<ModelProperty name="sequence" type="integer">
Execution order or priority sequence for this stencil when multiple stencils are processed.
</ModelProperty>

<ModelProperty name="inline" type="boolean">
Whether the stencil template content is stored inline rather than in an external repository.
</ModelProperty>

<ModelProperty name="git_file_path" type="string">
File path within the git repository where the stencil template is located.
</ModelProperty>

<ModelProperty name="body" type="string">
Template content body containing the actual stencil YAML configuration (only included when full_content=true).
</ModelProperty>

<ModelProperty name="created_at_iso" type="string">
ISO 8601 formatted timestamp when the stencil was created.
</ModelProperty>

<ModelProperty name="updated_at_iso" type="string">
ISO 8601 formatted timestamp when the stencil was last updated.
</ModelProperty>
</Model>

## Stencil Types

### Global Stencils
- **Formation-wide** - Applied to all services in a formation
- **Infrastructure templates** - Common configurations like networking, storage
- **Platform services** - Monitoring, logging, security components

### Service-Specific Stencils
- **Targeted application** - Applied only to specific services
- **Service configurations** - Deployment, service, ingress definitions
- **Context-aware** - Uses service-specific variables and settings

## Template Processing

Stencils use template engines to generate final configurations:
- **Variable substitution** - Replace placeholders with actual values
- **Conditional logic** - Include/exclude sections based on conditions  
- **Loops and iterations** - Generate multiple similar resources
- **Environment-specific** - Different outputs for different environments

## Execution Order

Stencils are processed based on their `sequence` value, allowing for:
- **Dependency management** - Ensure resources are created in correct order
- **Override patterns** - Later stencils can modify earlier configurations
- **Layered configuration** - Build complex configurations incrementally

## Repository Integration

Stencils can be stored and managed in:
- **External repositories** - Git-based template management
- **Inline content** - Template stored directly in Cloud66
- **Version control** - Track template changes and rollbacks
- **Branch-specific** - Different templates for different deployment branches

<RelatedModels models={['Formation', 'Service', 'Stack']} />
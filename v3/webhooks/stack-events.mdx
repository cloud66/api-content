---
title: Stack Events
---

# Stack Events

Stack events are webhooks triggered by changes to your application stacks, including deployments, provisioning, updates, and configuration changes.

## Event Types

### Deployment Events

#### `stack.provision.ok`
Triggered when stack provisioning completes successfully.

**Payload includes:**
- [Stack](/v3/models/stack) data
- Deploy context with deployment details

```json
{
  "timestamp": 1640995200,
  "event_type": "stack.provision.ok",
  "uid": "abc123def456",
  "name": "My Application",
  "environment": "production",
  "deploy_context": {
    "id": 158,
    "triggered_by": "Cloudia Sixton",
    "triggered_via": "web",
    "started_at": "2024-01-01T10:00:00Z",
    "finished_at": "2024-01-01T10:15:30Z",
    "outcome": "success",
    "git_hash": "abc123def456...",
    "deploy_session": "def456ghi789...",
    "deploy_type": "build",
    "is_head": true,
    "is_live": true
  }
}
```

#### `stack.provision.fail`
Triggered when stack provisioning fails.

**Payload structure:** Same as `stack.provision.ok` but with failure details in the deploy context.

#### `stack.redeploy.ok` / `stack.redeploy.fail`
Triggered when stack redeployment completes (successfully or with failure).

**Payload structure:** Same as provisioning events but for redeployment operations.

#### `stack.deploy.started`
Triggered when a deployment begins.

**Payload includes:**
- [Stack](/v3/models/stack) data
- Deploy context with start details (no finished_at timestamp yet)

### Stack Lifecycle Events

#### `stack.created`
Triggered when a new stack is created.

**Payload includes:**
- Complete [Stack](/v3/models/stack) data
- Initial deploy context

```json
{
  "timestamp": 1640995200,
  "event_type": "stack.created",
  "uid": "abc123def456",
  "name": "Awesome Stack",
  "git": "https://github.com/cloud66-samples/rails-mysql.git",
  "environment": "production",
  "cloud": "aws",
  "status": 0,
  "health": 3,
  "created_at": "2024-01-01T10:00:00Z",
  "updated_at": "2024-01-01T10:00:00Z"
}
```

#### `stack.stackscore.changed`
Triggered when the stack score changes.

**Payload includes:**
- [Stack](/v3/models/stack) data
- `diff` object showing what changed

```json
{
  "timestamp": 1640995200,
  "event_type": "stack.stackscore.changed",
  "uid": "abc123def456",
  "name": "My Application",
  "diff": {
    "backups": {
      "change": "up",
      "from": "b",
      "to": "a"
    },
    "security": {
      "change": "down", 
      "from": "a",
      "to": "b"
    }
  }
}
```

### Application Update Events

#### `application.update.pending`
Triggered when an application update is queued.

#### `application.update.started`
Triggered when an application update begins.

#### `application.update.succeeded`
Triggered when an application update completes successfully.

#### `application.update.failed`
Triggered when an application update fails.

**Payload for all update events:**
- [Stack](/v3/models/stack) data
- `type_symbol` indicating the update type

### Health & Integration Events

#### `application.health_check.failed`
Triggered when application health checks fail.

**Payload includes:**
- [Stack](/v3/models/stack) data
- Health check failure details

#### `application.integration.configured`
Triggered when a new integration (like monitoring tools) is configured for the stack.

**Payload includes:**
- [Stack](/v3/models/stack) data
- `integration_name` (e.g., "Datadog", "New Relic")

#### `application.integration.removed`
Triggered when an integration is removed from the stack.

**Payload structure:** Same as `integration.configured`

### Error Events

#### `stack.redeploy.hook.fail`
Triggered when redeployment hooks fail to execute.

**Payload includes:**
- [Stack](/v3/models/stack) data
- `reason` describing the failure

```json
{
  "timestamp": 1640995200,
  "event_type": "stack.redeploy.hook.fail",
  "uid": "abc123def456",
  "name": "My Application",
  "reason": "redeployment failed because of an error"
}
```

## Common Use Cases

- **CI/CD Integration**: Trigger downstream processes after successful deployments
- **Monitoring**: Update external dashboards when stack health changes
- **Notifications**: Send alerts to team channels when deployments fail
- **Audit Logging**: Track all stack changes in external systems

## Related Models

Stack events primarily use data from:
- **[Stack](/v3/models/stack)** - Core stack information
- **Deploy Context** - Deployment-specific metadata (triggers, timing, outcomes)

<RelatedModels models={['Stack', 'User']} />
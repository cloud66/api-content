---
title: "Create Container Session"
scope: "redeploy"
path: "/stacks/:stack_id/sessions"
method: "POST"
request_body: |
  {
    "service_name": "web"
  }
response: |
  {
    "id": 456,
    "user_id": 123,
    "resource_type": "stack",
    "action": "create_session",
    "status": "pending",
    "started_at": "2023-01-15T10:30:00Z",
    "finished_at": null,
    "created_at": "2023-01-15T10:30:00Z",
    "updated_at": "2023-01-15T10:30:00Z"
  }
parameters:
  - name: stack_id
    in: path
    required: true
    type: string
    description: "Stack UID"
  - name: service_name
    in: body
    required: true
    type: string
    description: "Name of the service to create a session for"
---

# Create Container Session

Creates a new interactive container session for the specified service. This enables debugging and troubleshooting by providing shell access to running containers.

## Session Creation Process

1. **Validation** - Verifies user permissions and stack type
2. **Service Verification** - Confirms the service exists and is running
3. **Session Limits** - Checks current session count (max 15 per service)
4. **Async Creation** - Starts session creation as a background task
5. **Connection Setup** - Establishes secure connection to container

## Session Management

- **Session Limits** - Maximum of 15 concurrent sessions per service
- **Automatic Cleanup** - Oldest sessions are stopped when limit is exceeded
- **Background Processing** - Session creation is handled asynchronously
- **Secure Access** - Sessions use secure authentication mechanisms

## Use Cases

- **Application Debugging** - Inspect running applications and processes
- **Log Investigation** - Examine application and system logs directly
- **Configuration Changes** - Temporary configuration modifications for testing
- **Performance Analysis** - Monitor resource usage and system performance
- **Troubleshooting** - Diagnose issues in production environments

## Session Lifecycle

1. **Pending** - Session creation initiated but not yet ready
2. **Active** - Session is established and ready for use
3. **Stopped** - Session has been terminated or expired
4. **Failed** - Session creation or maintenance failed

## Access Requirements

- **SSH Key Download Permission** - User must have SSH key download permissions
- **Container Stacks Only** - Sessions are only supported on container-based stacks
- **Valid Service** - Specified service must exist in the active rollout variant

<Callout type="info" title="Asynchronous Operation">
Session creation is performed asynchronously. Monitor the returned AsyncAction to track session creation progress.
</Callout>

## Error Responses

<ResponseCodes 
  codes={[400]} 
  overrides={{
    400: [
      "Insufficient permissions - User lacks SSH key download permissions",
      "Invalid stack type - Stack is not container-based", 
      "Invalid service - Service not found in active rollout variant",
      "Too many session open! - Maximum concurrent sessions exceeded",
      "Invalid session - Session creation failed"
    ]
  }}
/>

<RelatedModels models={['Session', 'AsyncAction', 'Stack', 'Service']} />